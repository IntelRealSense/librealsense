<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1182" height="735" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[title: RS4xx - Registration for metadata attributes
Participant C++ main
Participant rs2_context
Participant rs2_device
Participant rs2_metadata_handler
Participant OS
Participant Device
Device->OS: new device found
Note over OS: device is enumerated
Note over OS,C++ main: ..........      system is in idle state  ...............
Note over C++ main: Librealsense2 is started
C++ main->rs2_context: create context
rs2_context-->C++ main:
rs2_context->OS: Query connected devices
OS-->C++ main: List of device info
C++ main->rs2_device: create rs4xx object
rs2_device->rs2_device: ctor: register for metadata
rs2_device->rs2_metadata_handler: ctor: Instantiate handler
rs2_metadata_handler-->rs2_device:
rs2_device->rs2_device: ctor: map handler to an attribute
rs2_device-->C++ main:
Note over C++ main: device with metadata support is ready]]></source><desc>RS4xx - Registration for metadata attributes</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="397.0625" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">RS4xx - Registration for metadata attributes</tspan></text></g><g class="actor"><rect x="132.65625" y="49" width="90.375" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="142.65625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="142.65625">C++ main</tspan></text></g><g class="actor"><rect x="132.65625" y="676" width="90.375" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="142.65625" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="142.65625">C++ main</tspan></text></g><line x1="177.84375" x2="177.84375" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="297.3046875" y="49" width="116.765625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="307.3046875" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="307.3046875">rs2_context</tspan></text></g><g class="actor"><rect x="297.3046875" y="676" width="116.765625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="307.3046875" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="307.3046875">rs2_context</tspan></text></g><line x1="355.6875" x2="355.6875" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="434.0703125" y="49" width="108.171875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="444.0703125" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="444.0703125">rs2_device</tspan></text></g><g class="actor"><rect x="434.0703125" y="676" width="108.171875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="444.0703125" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="444.0703125">rs2_device</tspan></text></g><line x1="488.15625" x2="488.15625" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="720.5859375" y="49" width="196.140625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="730.5859375" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="730.5859375">rs2_metadata_handler</tspan></text></g><g class="actor"><rect x="720.5859375" y="676" width="196.140625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="730.5859375" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="730.5859375">rs2_metadata_handler</tspan></text></g><line x1="818.65625" x2="818.65625" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="936.7265625" y="49" width="37.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="946.7265625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="946.7265625">OS</tspan></text></g><g class="actor"><rect x="936.7265625" y="676" width="37.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="946.7265625" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="946.7265625">OS</tspan></text></g><line x1="955.625" x2="955.625" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1079.8828125" y="49" width="72.984375" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1089.8828125" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1089.8828125">Device</tspan></text></g><g class="actor"><rect x="1079.8828125" y="676" width="72.984375" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1089.8828125" y="701" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1089.8828125">Device</tspan></text></g><line x1="1116.375" x2="1116.375" y1="88" y2="676" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="965.625" y="118.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="965.625">new device found</tspan></text><line x1="1116.375" x2="955.625" y1="127" y2="127" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="862.65625" y="147" width="185.9375" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="867.65625" y="167" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="867.65625">device is enumerated</tspan></text></g><g class="note"><rect x="167.84375" y="196" width="797.78125" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="172.84375" y="216" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="172.84375">..........      system is in idle state  ...............</tspan></text></g><g class="note"><rect x="67.28125" y="245" width="221.125" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="72.28125" y="265" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="72.28125">Librealsense2 is started</tspan></text></g><g class="signal"><text x="205.1875" y="304.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="205.1875">create context</tspan></text><line x1="177.84375" x2="355.6875" y1="313" y2="313" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="266.765625" y="338" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="266.765625"></tspan></text><line x1="355.6875" x2="177.84375" y1="333" y2="333" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="554.4921875" y="363.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="554.4921875">Query connected devices</tspan></text><line x1="355.6875" x2="955.625" y1="372" y2="372" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="483.0625" y="402.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="483.0625">List of device info</tspan></text><line x1="955.625" x2="177.84375" y1="411" y2="411" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="249.4296875" y="441.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="249.4296875">create rs4xx object</tspan></text><line x1="177.84375" x2="488.15625" y1="450" y2="450" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="513.15625" y="484.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="513.15625">ctor: register for metadata</tspan></text><line x1="488.15625" x2="508.15625" y1="470" y2="470" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="508.15625" x2="508.15625" y1="470" y2="494" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="508.15625" x2="488.15625" y1="494" y2="494" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="543.34375" y="519.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="543.34375">ctor: Instantiate handler</tspan></text><line x1="488.15625" x2="818.65625" y1="528" y2="528" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="653.40625" y="553" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="653.40625"></tspan></text><line x1="818.65625" x2="488.15625" y1="548" y2="548" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="513.15625" y="582.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="513.15625">ctor: map handler to an attribute</tspan></text><line x1="488.15625" x2="508.15625" y1="568" y2="568" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="508.15625" x2="508.15625" y1="568" y2="592" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="508.15625" x2="488.15625" y1="592" y2="592" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="333" y="612" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="333"></tspan></text><line x1="488.15625" x2="177.84375" y1="607" y2="607" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="10" y="627" width="335.6875" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="647" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">device with metadata support is ready</tspan></text></g></svg>